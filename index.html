<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pediatrics Quiz</title>
  <style>
    :root{--bg:#f7fafc;--card:#ffffff;--accent:#2563eb;--ok:#16a34a;--bad:#dc2626}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial; background:var(--bg); padding:24px;}
    .container{max-width:760px;margin:0 auto;background:var(--card);border-radius:12px;padding:22px;box-shadow:0 6px 24px rgba(16,24,40,0.08);}    
    h1{margin:0 0 8px 0;font-size:20px;color:#0f172a}
    p.lead{margin:0 0 18px 0;color:#475569}
    .qnum{font-weight:700;margin-bottom:6px}
    .question{font-size:18px;margin:8px 0 14px 0}
    .options{display:flex;flex-direction:column;gap:8px}
    label.option{display:flex;gap:10px;align-items:center;padding:10px;border-radius:8px;border:1px solid #e6eef8;cursor:pointer}
    input[type=radio]{width:18px;height:18px}
    .controls{display:flex;justify-content:space-between;gap:10px;margin-top:18px}
    button{background:var(--accent);color:white;border:none;padding:10px 14px;border-radius:8px;cursor:pointer}
    button.secondary{background:#e6eef8;color:#0f172a}
    .progress{height:10px;background:#eef2ff;border-radius:999px;margin-top:12px;overflow:hidden}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#7c3aed);width:0%}
    .result{margin-top:18px;padding:12px;border-radius:8px}
    .result.ok{background:rgba(16,185,129,0.12);color:var(--ok);}
    .result.bad{background:rgba(239,68,68,0.08);color:var(--bad)}
    .small{font-size:13px;color:#334155}
    .fb-correct{color:var(--ok);font-weight:700;margin-top:8px}
    .fb-wrong{color:var(--bad);font-weight:700;margin-top:8px}
    footer{margin-top:18px;font-size:13px;color:#64748b}
  </style>
</head>
<body>
  <div class="container">
    <h1>Pediatrics Quiz (Immediate Feedback)</h1>
    <p class="lead">Select an answer — the quiz will instantly tell you whether it is correct before you can continue.</p>

    <div id="quiz"></div>

    <div class="controls">
      <button id="prevBtn" class="secondary">Previous</button>
      <div style="flex:1"></div>
      <button id="nextBtn">Next</button>
    </div>

    <div class="progress" aria-hidden><i id="progbar"></i></div>

    <div id="final" style="display:none"></div>

    <footer>References: page numbers provided in the questions.</footer>
  </div>

<script>
const questions = [
{"id": 1, "text": "Angina is chest pain associated with:", "choices": ["Myocardial infarction", "Myocardial ischemia", "Pericarditis", "Endocarditis"], "correct": 1, "ref": "Page 3: ANGINA" },
{"id": 2, "text": "Angina is characterized as being:", "choices": ["Permanent and causing cell death", "Transient and not causing cell death", "Always fatal", "Only occurring at rest"], "correct": 1, "ref": "Page 3: ANGINA" },
{"id": 3, "text": "Angina occurs when:", "choices": ["Oxygen supply is higher than demand", "Oxygen demand is higher than supply", "Blood pressure is too high", "Heart rate is too slow"], "correct": 1, "ref": "Page 3: ANGINA" },
{"id": 4, "text": "Classic angina pain is typically described as:", "choices": ["Sharp, stabbing pain in the left chest", "Midsternal pressure", "Burning in the throat", "Pain in the lower abdomen"], "correct": 1, "ref": "Page 3: ANGINA - Classic characteristics" },
{"id": 5, "text": "Angina pain may radiate to the:", "choices": ["Feet", "Arms, jaw, or back", "Lower back only", "Top of the head"], "correct": 1, "ref": "Page 3: ANGINA - Classic characteristics" },
{"id": 6, "text": "Stable (chronic, exertional) angina is also known as:", "choices": ["Prinzmetal's angina", "Crescendo angina", "Effort, classic angina", "Variant angina"], "correct": 2, "ref": "Page 4: ANGINA - Types" },
{"id": 7, "text": "An ECG finding associated with stable angina is:", "choices": ["ST elevation", "Q waves", "T-wave inversion", "Prolonged PR interval"], "correct": 2, "ref": "Page 4: ANGINA - Types" },
{"id": 8, "text": "Treatment for stable angina includes:", "choices": ["Rest and nitroglycerin", "Immediate CABG surgery", "Thrombolytics", "Calcium channel blockers only"], "correct": 0, "ref": "Page 4: ANGINA - Types" },
{"id": 9, "text": "Unstable (crescendo) angina is characterized by:", "choices": ["Less frequent and severe pain", "More often and severe pain with less relief", "Pain only during sleep", "Pain relieved by exercise"], "correct": 1, "ref": "Page 4: ANGINA - Types" },
{"id": 10, "text": "An ECG finding that may be seen in unstable angina is:", "choices": ["T-wave inversion only", "ST elevation", "No changes", "Short QT interval"], "correct": 1, "ref": "Page 4: ANGINA - Types" },
{"id": 11, "text": "Treatment for unstable angina may include:", "choices": ["Rest, nitroglycerin, drugs affecting platelets, and revascularization", "Only calcium channel blockers", "Only lifestyle modification", "Antibiotics"], "correct": 0, "ref": "Page 4: ANGINA - Types" },
{"id": 12, "text": "Variant angina (Prinzmetal's) is caused by:", "choices": ["Atherosclerotic plaque rupture", "Coronary artery vasospasms", "Emboli", "Blunt trauma"], "correct": 1, "ref": "Page 4: ANGINA - Types" },
{"id": 13, "text": "An ECG finding during a variant angina episode is:", "choices": ["ST depression", "ST elevation", "No change", "Widened QRS"], "correct": 1, "ref": "Page 4: ANGINA - Types" },
{"id": 14, "text": "The primary treatment for variant angina is:", "choices": ["Beta-blockers", "Nitroglycerin", "Calcium channel blockers", "Thrombolytics"], "correct": 2, "ref": "Page 4: ANGINA - Types" },
{"id": 15, "text": "A key nursing diagnosis for a patient with angina is:", "choices": ["Acute chest pain related to myocardial ischemia", "Chronic pain related to bone fracture", "Impaired gas exchange related to pneumonia", "Fluid volume excess related to renal failure"], "correct": 0, "ref": "Page 5: NURSING MANAGEMENT:ANGINA" },
{"id": 16, "text": "Another nursing diagnosis for angina is:", "choices": ["Activity intolerance related to chest pain and imbalance between oxygen supply and demand", "Risk for infection related to surgery", "Disturbed body image related to amputation", "Ineffective coping related to job loss"], "correct": 0, "ref": "Page 5: NURSING MANAGEMENT:ANGINA" },
{"id": 17, "text": "Nursing management of a patient with angina is directed toward:", "choices": ["Immediate administration of nitrates", "Assessment of history of previous vaginal episodes", "Assessment and documentation of chest pain episodes", "Administration of prophylactic lidocaine"], "correct": 2, "ref": "Page 6: QUICK QUIZ!" },
{"id": 18, "text": "Acute Coronary Syndrome (ACS) includes the diagnoses of:", "choices": ["Stable angina and pericarditis", "Unstable angina and acute myocardial infarction", "Endocarditis and myocarditis", "Heart failure and cardiomyopathy"], "correct": 1, "ref": "Page 7: ACUTE MYOCARDIAL INFARCTION (AMI)" },
{"id": 19, "text": "AMI is defined as NSTEMI or STEMI based on:", "choices": ["Patient age", "ECG characteristics", "Blood pressure readings", "Serum cholesterol levels"], "correct": 1, "ref": "Page 7: ACUTE MYOCARDIAL INFARCTION (AMI)" },
{"id": 20, "text": "Prompt recognition and treatment of ACS results in:", "choices": ["Increased hospital stay", "Improved outcomes", "No change in prognosis", "More complications"], "correct": 1, "ref": "Page 7: ACUTE MYOCARDIAL INFARCTION (AMI)" },
{"id": 21, "text": "A cause of AMI is:", "choices": ["Atherosclerosis", "Hypothyroidism", "Asthma", "Peptic ulcer disease"], "correct": 0, "ref": "Page 7: ACUTE MYOCARDIAL INFARCTION (AMI)" },
{"id": 22, "text": "STEMI usually occurs because of:", "choices": ["Partially occluded coronary vessel", "Plaque rupture leading to complete occlusion", "Vasospasm", "Low blood pressure"], "correct": 1, "ref": "Page 8: ACUTE MYOCARDIAL INFARCTION (AMI) (CONTINUED)" },
{"id": 23, "text": "NSTEMI usually results from:", "choices": ["Complete occlusion of the artery", "Partially occluded coronary vessel", "Cardiac tamponade", "Aortic dissection"], "correct": 1, "ref": "Page 8: ACUTE MYOCARDIAL INFARCTION (AMI) (CONTINUED)" },
{"id": 24, "text": "Most infarcts occur in the:", "choices": ["Right atrium", "Left ventricle", "Right ventricle", "Left atrium"], "correct": 1, "ref": "Page 8: ACUTE MYOCARDIAL INFARCTION (AMI) (CONTINUED)" },
{"id": 25, "text": "Right ventricular infarction commonly occurs in patients with:", "choices": ["Anterior wall infarction", "Inferior wall infarction", "Lateral wall infarction", "Septal infarction"], "correct": 1, "ref": "Page 8: ACUTE MYOCARDIAL INFARCTION (AMI) (CONTINUED)" },
{"id": 26, "text": "A Q-wave MI is associated with:", "choices": ["Partial occlusion of the coronary artery", "Total occlusion of the coronary artery with thrombus", "Vasospasm only", "No thrombus formation"], "correct": 1, "ref": "Page 8: ACUTE MYOCARDIAL INFARCTION (AMI) (CONTINUED)" },
{"id": 27, "text": "Non-Q-wave MI is associated with:", "choices": ["Total occlusion", "Partial occlusion of the coronary artery", "No occlusion", "Embolism from the legs"], "correct": 1, "ref": "Page 8: ACUTE MYOCARDIAL INFARCTION (AMI) (CONTINUED)" },
{"id": 28, "text": "Assessment findings in AMI include:", "choices": ["Midsternal chest pain, severe and crushing", "Sharp pain in the right lower quadrant", "Headache and dizziness", "Pain relieved by nitrates"], "correct": 0, "ref": "Page 9: ASSESSMENT OF AMI" },
{"id": 29, "text": "Chest pain in AMI is typically:", "choices": ["Relieved with rest", "Unrelieved with nitrates", "Worsened by lying down", "Described as burning"], "correct": 1, "ref": "Page 9: ASSESSMENT OF AMI" },
{"id": 30, "text": "A patient with AMI may appear:", "choices": ["Flushed and hot", "Pale and diaphoretic", "Jaundiced", "Cyanotic only"], "correct": 1, "ref": "Page 9: ASSESSMENT OF AMI" },
{"id": 31, "text": "Gastrointestinal symptoms associated with AMI can include:", "choices": ["Diarrhea", "Constipation", "Nausea and vomiting", "Increased appetite"], "correct": 2, "ref": "Page 9: ASSESSMENT OF AMI" },
{"id": 32, "text": "The zone of infarction and necrosis in AMI represents:", "choices": ["Reversible injury", "Area with potential for recovery", "Dead myocardial cells", "Area of ischemia"], "correct": 2, "ref": "Page 10: DIAGNOSIS OF AMI" },
{"id": 33, "text": "Women with AMI often present with:", "choices": ["Classic symptoms only", "Atypical symptoms", "No symptoms", "Only syncope"], "correct": 1, "ref": "Page 10: DIAGNOSIS OF AMI" },
{"id": 34, "text": "On a 12-lead ECG, ST elevation followed by a Q wave indicates:", "choices": ["Non-Q-wave MI", "Q-wave myocardial infarction", "Unstable angina", "Pericarditis"], "correct": 1, "ref": "Page 10: DIAGNOSIS OF AMI" },
{"id": 35, "text": "An elevated cardiac enzyme specific to the heart is:", "choices": ["CPK-MB", "AST", "ALT", "Amylase"], "correct": 0, "ref": "Page 10: DIAGNOSIS OF AMI" },
{"id": 36, "text": "Elevated serum troponin I/T is indicative of:", "choices": ["Liver damage", "Kidney injury", "Myocardial injury", "Skeletal muscle injury"], "correct": 2, "ref": "Page 10: DIAGNOSIS OF AMI" },
{"id": 37, "text": "The most conclusive ECG finding for infarction is:", "choices": ["Inverted T waves", "ST-segment depression", "Q waves", "Tall, peaked T waves"], "correct": 2, "ref": "Page 11: QUICK QUIZ!" },
{"id": 38, "text": "A complication of AMI is:", "choices": ["Hypertension", "Dysrhythmias", "Hyperglycemia", "Rash"], "correct": 1, "ref": "Page 12: COMPLICATIONS OF AMI" },
{"id": 39, "text": "Sudden death can be a complication of AMI due to:", "choices": ["Bradycardia", "Tachycardia or ventricular fibrillation", "Hypertension", "Fever"], "correct": 1, "ref": "Page 12: COMPLICATIONS OF AMI" },
{"id": 40, "text": "Congestive heart failure and cardiogenic shock are complications of AMI resulting from:", "choices": ["Increased cardiac output", "Pump failure", "Hypervolemia", "Vasodilation"], "correct": 1, "ref": "Page 12: COMPLICATIONS OF AMI" },
{"id": 41, "text": "Another potential complication of AMI is:", "choices": ["Ventricular aneurysm or rupture", "Improved contractility", "Decreased heart size", "Reduced stroke volume"], "correct": 0, "ref": "Page 12: COMPLICATIONS OF AMI" },
{"id": 42, "text": "Medical management of AMI includes pain relief with:", "choices": ["Ibuprofen only", "Morphine and nitroglycerin", "Acetaminophen", "Aspirin only"], "correct": 1, "ref": "Page 13: MEDICAL MANAGEMENT:AMI" },
{"id": 43, "text": "Oxygen administration in AMI aims to:", "choices": ["Increase myocardial oxygen demand", "Decrease oxygen supply", "Increase oxygen supply to ischemic myocardium", "Cause vasoconstriction"], "correct": 2, "ref": "Page 13: MEDICAL MANAGEMENT:AMI" },
{"id": 44, "text": "Drugs affecting platelets used in AMI management include:", "choices": ["ASA (Aspirin)", "Insulin", "Diuretics", "Bronchodilators"], "correct": 0, "ref": "Page 13: MEDICAL MANAGEMENT:AMI" },
{"id": 45, "text": "Beta-blockers in AMI help by:", "choices": ["Increasing heart rate and contractility", "Decreasing heart rate and myocardial oxygen demand", "Causing vasodilation only", "Increasing afterload"], "correct": 1, "ref": "Page 13: MEDICAL MANAGEMENT:AMI" },
{"id": 46, "text": "ACE inhibitors are used in AMI to:", "choices": ["Increase blood pressure", "Cause vasoconstriction", "Reduce afterload and prevent remodeling", "Increase preload"], "correct": 2, "ref": "Page 13: MEDICAL MANAGEMENT:AMI" },
{"id": 47, "text": "After giving the first dose of morphine for chest pain, the next priority action is to:", "choices": ["Change the IV tubing", "Bathe the patient", "Assess for pain relief and adverse effects", "Initiate oxygen"], "correct": 2, "ref": "Page 14: QUICK QUIZ!" },
{"id": 48, "text": "Primary angioplasty (PCI) should be performed within how many minutes of arrival to the ED?", "choices": ["30 minutes", "60 minutes (target) to 90 minutes", "120 minutes", "180 minutes"], "correct": 1, "ref": "Page 15: PRIMARY ANGIOPLASTY" },
{"id": 49, "text": "The phrase 'Time is muscle' refers to the importance of:", "choices": ["Delaying treatment to assess fully", "Rapid intervention in AMI to salvage myocardium", "Waiting for enzymes to rise", "Scheduling surgery electively"], "correct": 1, "ref": "Page 16: THROMBOLYTIC THERAPY" },
{"id": 50, "text": "The therapeutic window for thrombolytic therapy in AMI is typically:", "choices": ["2 hours", "6 hours", "12 hours", "24 hours"], "correct": 1, "ref": "Page 16: THROMBOLYTIC THERAPY" },
{"id": 51, "text": "An example of a thrombolytic agent is:", "choices": ["Heparin", "Tissue plasminogen activator (t-PA)", "Warfarin", "Aspirin"], "correct": 1, "ref": "Page 16: THROMBOLYTIC THERAPY" },
{"id": 52, "text": "During thrombolytic therapy, nurses must observe for:", "choices": ["Hypertension", "Bleeding", "Bradycardia", "Hyperglycemia"], "correct": 1, "ref": "Page 16: THROMBOLYTIC THERAPY" },
{"id": 53, "text": "The goal of interventional cardiology procedures like PTCA is to:", "choices": ["Decrease blood flow to the myocardium", "Increase blood flow to the myocardium", "Remove the pericardium", "Replace a heart valve"], "correct": 1, "ref": "Page 17: INTERVENTIONAL CARDIOLOGY" },
{"id": 54, "text": "A criterion for PTCA is:", "choices": ["Calcified lesions", "Lesions on bifurcations of vessels", "Uncompromised collateral flow", "Compromised collateral flow"], "correct": 2, "ref": "Page 17: INTERVENTIONAL CARDIOLOGY" },
{"id": 55, "text": "Intracoronary stents are used to:", "choices": ["Widen the arterial lumen and provide structural support", "Narrow the artery", "Deliver antibiotics", "Measure pressure"], "correct": 0, "ref": "Page 18: INTRACORONARY STENTS" },
{"id": 56, "text": "Drug-eluting stents:", "choices": ["Have medications to maintain patency", "Are always bare metal", "Dissolve immediately", "Cause more restenosis"], "correct": 0, "ref": "Page 18: INTRACORONARY STENTS" },
{"id": 57, "text": "Stents help prevent:", "choices": ["The restenosis associated with angioplasty", "Bleeding", "Infection", "Hypotension"], "correct": 0, "ref": "Page 18: INTRACORONARY STENTS" },
{"id": 58, "text": "After stent placement, patients require:", "choices": ["No further medication", "Anticoagulation therapy", "Only pain medication", "Bed rest for a week"], "correct": 1, "ref": "Page 18: INTRACORONARY STENTS" },
{"id": 59, "text": "CABG surgery is indicated for:", "choices": ["Mild stable angina responsive to medication", "Significant left main coronary occlusion (>50%)", "Single-vessel disease amenable to PTCA", "Young age only"], "correct": 1, "ref": "Page 20: CABG SURGERY" },
{"id": 60, "text": "Common grafts used in CABG include:", "choices": ["Internal mammary artery and saphenous vein", "Femoral artery only", "Jugular vein", "Radial nerve"], "correct": 0, "ref": "Page 20: CABG SURGERY" },
{"id": 61, "text": "Increased mortality risk with CABG is associated with:", "choices": ["Left ventricle dysfunction", "Young age", "Female sex", "Both A and C"], "correct": 3, "ref": "Page 21: RISKSASSOCIATEDWITHCABG" },
{"id": 62, "text": "Traditional CABG is performed through a:", "choices": ["Midsternal, longitudinal incision (median sternotomy)", "Small incision in the groin", "Lateral thoracotomy", "Abdominal incision"], "correct": 0, "ref": "Page 22: TRADITIONAL CABG" },
{"id": 63, "text": "During cardiopulmonary bypass, blood is oxygenated via:", "choices": ["The patient's lungs", "An oxygenator (heart-lung machine)", "The kidneys", "The liver"], "correct": 1, "ref": "Page 22: TRADITIONAL CABG" },
{"id": 64, "text": "Cardioplegia solution is used to:", "choices": ["Speed up the heart rate", "Stop the heart for surgery", "Lower blood pressure", "Increase cardiac output"], "correct": 1, "ref": "Page 22: TRADITIONAL CABG" },
{"id": 65, "text": "Minimally invasive direct coronary artery bypass (MIDCAB) surgery:", "choices": ["Always uses cardiopulmonary bypass", "Is done on a stopped heart", "Is done without cardiopulmonary bypass on a beating heart", "Requires a full sternotomy"], "correct": 2, "ref": "Page 23: MINIMALLY INVASIVE DIRECT CORONARY ARTERY BYPASS SURGERY" },
{"id": 66, "text": "A complication of cardiac surgery is:", "choices": ["High cardiac output", "Mediastinal bleeding", "Hypervolemia", "Hypertension"], "correct": 1, "ref": "Page 24: CARDIAC SURGERY COMPLICATIONS" },
{"id": 67, "text": "Infection after sternotomy is:", "choices": ["Not serious", "Very serious", "Common and easily treated", "Rarely occurs"], "correct": 1, "ref": "Page 24: CARDIAC SURGERY COMPLICATIONS" },
{"id": 68, "text": "Atrial dysrhythmias are a common complication after:", "choices": ["Knee surgery", "Cardiac surgery", "Appendectomy", "Cataract surgery"], "correct": 1, "ref": "Page 24: CARDIAC SURGERY COMPLICATIONS" },
{"id": 69, "text": "Low cardiac output after cardiac surgery can lead to:", "choices": ["Renal impairment and impaired peripheral circulation", "Improved gastrointestinal function", "Hypertension", "Polyuria"], "correct": 0, "ref": "Page 24: CARDIAC SURGERY COMPLICATIONS" },
{"id": 70, "text": "Another complication of CABG is:", "choices": ["Improved contractility", "Pericardial tamponade", "Hyperventilation", "Hyperglycemia only"], "correct": 1, "ref": "Page 25: COMPLICATIONS OF CABG" },
{"id": 71, "text": "Radiofrequency ablation is used to treat:", "choices": ["Supraventricular tachycardia", "Bradycardia", "Heart block", "Hypertension"], "correct": 0, "ref": "Page 26: DYSRHYTHMIAS" },
{"id": 72, "text": "Permanent pacemakers can be programmed for:", "choices": ["Rate and voltage only", "Rate, voltage, sensitivity, stimulus duration, refractory period", "Only sensitivity", "Only stimulus duration"], "correct": 1, "ref": "Page 26: DYSRHYTHMIAS" },
{"id": 73, "text": "Pacemakers are typically inserted:", "choices": ["Through the abdomen", "Transvenously", "Through the skull", "Through the stomach"], "correct": 1, "ref": "Page 26: DYSRHYTHMIAS" },
{"id": 74, "text": "An Implantable Cardioverter-Defibrillator (ICD) is used to:", "choices": ["Treat slow heart rates only", "Treat survivors of sudden cardiac arrest", "Replace pacemakers in all patients", "Monitor blood pressure"], "correct": 1, "ref": "Page 27: IMPLANTABLE CARDIOVERTER-DEFIBRILLATOR (ICD)" },
{"id": 75, "text": "An ICD can deliver:", "choices": ["Low-energy shocks only", "High-energy shock", "Medications", "Radiation"], "correct": 1, "ref": "Page 27: IMPLANTABLE CARDIOVERTER-DEFIBRILLATOR (ICD)" },
{"id": 76, "text": "Pericarditis is an inflammation of the:", "choices": ["Myocardium", "Endocardium", "Pericardium", "Heart valves"], "correct": 2, "ref": "Page 28: INFLAMMATORY HEART DISEASE" },
{"id": 77, "text": "Pericarditis can occur as a consequence of:", "choices": ["AMI", "Kidney injury (uremic pericarditis)", "Infection", "All of the above"], "correct": 3, "ref": "Page 28: INFLAMMATORY HEART DISEASE" },
{"id": 78, "text": "A potential complication of pericarditis is:", "choices": ["Hypertension", "Cardiac tamponade", "Increased urine output", "Bradycardia without hypotension"], "correct": 1, "ref": "Page 28: INFLAMMATORY HEART DISEASE" },
{"id": 79, "text": "Infective endocarditis involves:", "choices": ["The pericardium only", "Microorganisms attaching to an endocardial surface, often heart valves", "The myocardium only", "The coronary arteries"], "correct": 1, "ref": "Page 28: INFLAMMATORY HEART DISEASE" },
{"id": 80, "text": "A sign of infective endocarditis is:", "choices": ["New murmur", "Clear heart sounds", "Hypotension only", "Tachycardia without fever"], "correct": 0, "ref": "Page 28: INFLAMMATORY HEART DISEASE" },
{"id": 81, "text": "A hallmark of pericarditis is:", "choices": ["Friction rub", "Wheezing", "Crackles", "Gallop rhythm"], "correct": 0, "ref": "Page 29: PERICARDITIS" },
{"id": 82, "text": "Another hallmark of pericarditis is:", "choices": ["Pulsus paradoxus", "Hypertension", "Bounding pulses", "Widened pulse pressure"], "correct": 0, "ref": "Page 29: PERICARDITIS" },
{"id": 83, "text": "Initial ECG changes in pericarditis may show:", "choices": ["ST elevation", "ST depression", "Q waves", "Absent P waves"], "correct": 0, "ref": "Page 29: PERICARDITIS" },
{"id": 84, "text": "Treatment for pericarditis may include:", "choices": ["Analgesics and anti-inflammatory agents like ibuprofen", "Only antibiotics", "Diuretics only", "Beta-blockers only"], "correct": 0, "ref": "Page 30: TREATMENT OF PERICARDITIS" },
{"id": 85, "text": "Cardiac tamponade is treated with:", "choices": ["Pericardiocentesis", "Antibiotics only", "Increasing fluids only", "Pacemaker insertion"], "correct": 0, "ref": "Page 30: TREATMENT OF PERICARDITIS" },
{"id": 86, "text": "A pericardial window is a surgical procedure to:", "choices": ["Remove part of the pericardium", "Insert a stent", "Replace a valve", "Bypass an artery"], "correct": 0, "ref": "Page 30: TREATMENT OF PERICARDITIS" },
{"id": 87, "text": "Endocarditis is classified into types including:", "choices": ["Native valve endocarditis (NVE)", "Prosthetic valve endocarditis (PVE)", "Intravenous drug abuse (IVDA) related", "All of the above"], "correct": 3, "ref": "Page 31: ENDOCARDITIS" },
{"id": 88, "text": "Diagnosis of endocarditis is often made by:", "choices": ["Chest X-ray", "Echocardiogram, especially transesophageal", "ECG only", "Blood pressure measurement"], "correct": 1, "ref": "Page 31: ENDOCARDITIS" },
{"id": 89, "text": "Treatment for endocarditis includes:", "choices": ["Antibiotics and rest", "Surgery only", "Chemotherapy", "Radiation therapy"], "correct": 0, "ref": "Page 31: ENDOCARDITIS" },
{"id": 90, "text": "Prevention of endocarditis may involve:", "choices": ["Antibiotic prophylaxis before certain procedures (e.g., dental work)", "No precautions needed", "Vaccination only", "Avoiding all medications"], "correct": 0, "ref": "Page 31: ENDOCARDITIS" },
{"id": 91, "text": "An aortic aneurysm is defined as:", "choices": ["A narrowing of the artery", "Dilation or thinning of the arterial wall", "A blockage in the artery", "A tear in the artery"], "correct": 1, "ref": "Page 32: VASCULAR ALTERATIONS" },
{"id": 92, "text": "Types of aortic aneurysms include:", "choices": ["Thoracic and abdominal", "Cerebral only", "Peripheral only", "Venous aneurysms"], "correct": 0, "ref": "Page 32: VASCULAR ALTERATIONS" },
{"id": 93, "text": "A false aneurysm is characterized by:", "choices": ["Blood seeping through a hole and being walled off", "Uniform dilation of the artery", "A sac-like bulge on one side", "A split in the arterial wall"], "correct": 0, "ref": "Page 33: ANEURYSMS" },
{"id": 94, "text": "A dissecting aneurysm involves:", "choices": ["A split in the arterial wall allowing blood flow between layers", "A sac-like bulge", "Uniform dilation", "A blockage"], "correct": 0, "ref": "Page 33: ANEURYSMS" },
{"id": 95, "text": "Aortic dissection is characterized by:", "choices": ["A tear of the intimal layer of the vessel", "Slow, gradual pain", "No pain", "Pain only in the legs"], "correct": 0, "ref": "Page 34: VASCULAR ALTERATIONS (CONTINUED)" },
{"id": 96, "text": "Pain from aortic dissection is often described as:", "choices": ["Dull and achy", "Sudden, sharp, and shifting", "Burning", "Cramping"], "correct": 1, "ref": "Page 34: VASCULAR ALTERATIONS (CONTINUED)" },
{"id": 97, "text": "Marfan syndrome is a risk factor for:", "choices": ["Aortic aneurysm and dissection", "Lung cancer", "Skin infections", "Diabetes"], "correct": 0, "ref": "Page 34: VASCULAR ALTERATIONS (CONTINUED)" },
{"id": 98, "text": "Surgical repair of an aortic aneurysm can be done via:", "choices": ["Open approach (endoaneurysmal repair)", "Endovascular approach", "Both open and endovascular", "Medication only"], "correct": 2, "ref": "Page 35: VASCULAR ALTERATIONS (CONTINUED)" },
{"id": 99, "text": "In endoaneurysmal repair, a synthetic graft is inserted and then:", "choices": ["Removed after a week", "The native aortic wall is sutured over it", "Left exposed", "Covered with skin only"], "correct": 1, "ref": "Page 36: ENDOANEURYSMAL REPAIR" },
{"id": 100, "text": "The author of this lecture is:", "choices": ["Dr. John Smith", "Associate Prof. Amira Mohammed Ali", "Dr. Sarah Jones", "Ailla Medical Media"], "correct": 1, "ref": "Page 1: CARDIOVASCULAR ALTERATIONS" }
];

let current = 0;
const answers = Array(questions.length).fill(null);
let answered = Array(questions.length).fill(false); // To lock after answering

function render(){
  const q = questions[current];
  const container = document.getElementById('quiz');

  container.innerHTML = `
    <div class="qnum">Question ${current+1} of ${questions.length} <span class="small">(Ref: ${q.ref})</span></div>
    <div class="question">${q.text}</div>
    <div class="options">
      ${q.choices.map((c,i)=>`<label class="option"><input type="radio" name="choice" value="${i}" ${answers[current]===i? 'checked' : ''} ${answered[current] ? 'disabled' : ''}> <span>${String.fromCharCode(65+i)}) ${c}</span></label>`).join('')}
    </div>
    <div id="feedback" style="margin-top:12px"></div>
  `;

  document.getElementById('prevBtn').disabled = current===0;
  document.getElementById('nextBtn').disabled = !answered[current];
  document.getElementById('nextBtn').textContent = current===questions.length-1? 'Finish Quiz' : 'Next';

  updateProgress();
  attachOptionListeners();

  if(answered[current]) showImmediateFeedback();
}

function attachOptionListeners(){
  const opts = document.querySelectorAll('input[name=choice]');
  opts.forEach(o=>o.addEventListener('change', (e)=>{
    answers[current] = parseInt(e.target.value);
    answered[current] = true;
    showImmediateFeedback();
    disableOptions();
    document.getElementById('nextBtn').disabled = false;
  }));
}

function disableOptions(){
  document.querySelectorAll('input[name=choice]').forEach(o=>o.disabled = true);
}

function showImmediateFeedback(){
  const fb = document.getElementById('feedback');
  const q = questions[current];
  const isCorrect = answers[current] === q.correct;

  fb.innerHTML = isCorrect ?
    `<div class='fb-correct'>Correct ✔</div>` :
    `<div class='fb-wrong'>Incorrect ✘ — Correct answer is (${String.fromCharCode(65+q.correct)}) ${q.choices[q.correct]}</div>`;
}

function updateProgress(){
  const pct = Math.round(((current)/questions.length)*100);
  document.getElementById('progbar').style.width = pct+'%';
}

function prev(){ if(current>0){ current--; render(); } }

function next(){
  if(!answered[current]){
    alert('Please select an answer before continuing.');
    return;
  }
  if(current < questions.length-1){ current++; render(); return; }
  showResult();
}

function showResult(){
  let correctCount = 0;
  questions.forEach((q,i)=>{
    if(answers[i] === q.correct) correctCount++;
  });
  const percent = Math.round((correctCount/questions.length)*100);
  const final = document.getElementById('final');
  final.style.display = '';
  final.innerHTML = `
    <div class="result ${percent>=60? 'ok':'bad'}">
      <div style="font-weight:700;font-size:18px">Your Score: ${correctCount}/${questions.length} — ${percent}%</div>
      <div class="small" style="margin-top:6px">${percent>=60? 'Good job!' : 'Review the material and try again.'}</div>
    </div>
    <div style="margin-top:12px">
      <button id="restartBtn">Restart Quiz</button>
    </div>
  `;

  document.getElementById('prevBtn').disabled = true;
  document.getElementById('nextBtn').disabled = true;

  document.getElementById('restartBtn').addEventListener('click', ()=>{
    for(let i=0;i<answers.length;i++){ answers[i]=null; answered[i]=false; }
    current = 0;
    document.getElementById('final').style.display='none';
    document.getElementById('prevBtn').disabled=false;
    document.getElementById('nextBtn').disabled=false;
    render();
  });
}

// Attach buttons
document.getElementById('prevBtn').addEventListener('click', prev);
document.getElementById('nextBtn').addEventListener('click', next);

// initialize
render();
</script>
</body>
</html>
